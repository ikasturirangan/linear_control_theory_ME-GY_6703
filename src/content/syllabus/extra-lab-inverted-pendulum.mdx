---
title: Extra Lab Session - Inverted Pendulum Balancing
description: Capstone experiment integrating modeling, control, estimation, and digital implementation.
---

# Extra Lab Session: Inverted Pendulum Balancing

## Learning Outcomes

1. Build and validate a linearized model around upright equilibrium.
2. Design and test stabilizing controller/observer architecture.
3. Evaluate robustness under disturbances and parameter uncertainty.
4. Document engineering decisions and failure analysis clearly.

## Glossary

| Term | Meaning |
| --- | --- |
| Upright equilibrium | Unstable balance point around which linearization is done. |
| Swing-up (if used) | Strategy to bring pendulum near upright before balancing mode. |
| Observer | Estimator used when not all states are directly measured. |
| Robustness | Ability to maintain stability/performance under uncertainty/disturbance. |
| Saturation | Actuator command limits that can degrade or destabilize control. |

## Explanation

This lab is where theory becomes real engineering.
It combines modeling, control design, estimation, digital implementation, and safety decisions in one workflow.

## Why this lab is a capstone

Inverted pendulum requires nearly every syllabus idea:

- nonlinear modeling and local linearization
- stability and margins
- state-space design
- observer design
- digital implementation and sampling

## Lab objectives

1. Linearize pendulum around upright equilibrium.
2. Build continuous model and simulate baseline response.
3. Discretize model for digital control.
4. Design controller (pole placement or LQR).
5. Design full-state observer if not all states are measured.
6. Validate experimentally with disturbance pushes.

## Suggested lab flow

1. **Modeling**: derive equations and linearize near upright.
2. **Simulation**: verify unstable open-loop behavior.
3. **Controller design**: stabilize and tune for settling/overshoot.
4. **Observer (if needed)**: reconstruct angular velocity/cart velocity.
5. **Implementation**: deploy with sampling and actuator limits.
6. **Evaluation**: step response, disturbance rejection, and robustness tests.

## Lab report template

- System description and assumptions
- Model derivation and parameter identification
- Controller/observer design method
- Simulation vs experiment comparison
- Failure modes and improvement plan

## Common Mistakes

- Sample period too large -> poor phase margin.
- Ignoring actuator saturation -> windup/instability.
- Observer poles set excessively fast -> noise amplification.

## Newbie-first lab execution advice

1. Stabilize in simulation before touching hardware.
2. Add saturation and sensor noise in simulation early.
3. Start with conservative gains and slowly increase aggressiveness.
4. Log every run (gains, sample time, response metrics, failure observations).
5. Change one thing at a time between trials.

This prevents trial-and-error chaos and makes debugging systematic.

## Safety and reliability checklist

- Verify emergency stop behavior.
- Enforce actuator command limits in software.
- Validate encoder/sensor sign conventions before closed-loop test.
- Keep observer/controller initial conditions sensible.
- Run short-duration tests before long balancing runs.

## Worked Example

Example mini-run:

1. Use linearized model and design LQR gain.
2. Add observer with poles 3x faster than controller poles.
3. Simulate with ±10% mass uncertainty and impulse disturbance.
4. Verify stabilization and acceptable settling before hardware test.

## Detailed Review

Before final submission, confirm you can justify:

1. Why your model is valid near operating region.
2. Why selected poles/weights are physically reasonable.
3. How sampling, saturation, and noise were handled.
4. What failed in early trials and what design change fixed it.

## Assignments

Skills tested: `derivation`, `interpretation`, `stability test`, `design choice`.

Before running hardware, simulate with ±10% parameter uncertainty.
Explain why robust margin matters.

Use [Capstone Prep Pack](/syllabus/capstone-prep-pack) for a full pre-lab checklist and report rubric.

## Citations

- [R2](/syllabus/references#r2)
- [R3](/syllabus/references#r3)
- [R5](/syllabus/references#r5)
