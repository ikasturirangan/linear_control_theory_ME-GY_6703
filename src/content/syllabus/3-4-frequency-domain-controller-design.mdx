---
title: 3.4 Frequency-domain Controller Design
description: Design lead/lag/PID behavior by shaping Bode magnitude and phase.
---

# 3.4 Frequency-domain Controller Design

## Learning Outcomes

1. Translate performance targets into Bode-shaping goals.
2. Understand lead, lag, and PI/PID effects in frequency domain.
3. Iterate controller tuning with margin checks.

## Glossary

| Term | Meaning |
| --- | --- |
| Lead compensator | Adds positive phase near crossover to improve PM. |
| Lag compensator | Boosts low-frequency gain to improve steady-state accuracy. |
| Crossover frequency | Target loop speed region in frequency design. |
| Loop shaping | Designing controller by shaping open-loop frequency response. |

## Explanation

Frequency-domain design is about deliberately shaping loop behavior.
You do not guess gains randomly; you move magnitude/phase where performance targets require.

## Design workflow

1. Start with uncompensated Bode plot.
2. Set target crossover frequency from speed requirement.
3. Add phase lead to increase PM near crossover.
4. Add lag/integral action for low-frequency accuracy.
5. Re-check PM, GM, and bandwidth.

## Controller intuition

### Lead compensation

- Increases phase near crossover.
- Can improve PM and transient damping.
- Often increases noise sensitivity at high frequency.

### Lag compensation

- Increases low-frequency loop gain.
- Helps steady-state accuracy.
- Usually lowers bandwidth.

### PID perspective

- P sets primary gain level.
- I reduces SSE (boosts low frequency gain).
- D adds phase lead around design band.

## Practical design caution

Do not optimize only crossover frequency.
Always check actuator limits and measurement noise.

## Translating specs into frequency-domain targets

A practical mapping many beginners use:

- Need faster response -> raise crossover frequency carefully.
- Need less overshoot -> increase phase margin (often with lead).
- Need lower SSE -> increase low-frequency loop gain (often with lag/PI).
- Need lower noise amplification -> reduce high-frequency gain.

The key is balancing these simultaneously rather than maximizing one target.

## Mini tuning loop you can reuse

1. Start with uncompensated plant and measure PM/GM.
2. Add lead for phase deficiency near desired crossover.
3. Add PI/lag only as much as needed for low-frequency accuracy.
4. Re-check margins and simulate with disturbance + measurement noise.
5. Repeat with small parameter changes, not large jumps.

## Common Mistakes

- Pushing crossover too high without accounting for sensor noise and unmodeled dynamics.
- Adding too much lag/PI and reducing phase margin unintentionally.
- Using only one test input and ignoring disturbance/noise scenarios.
- Tuning by trial-and-error without explicit PM/GM targets.

## Worked Example

If uncompensated loop has PM near $20^\circ$ and target is about $50^\circ$:

1. Add lead compensation around crossover.
2. Replot Bode and check PM change.
3. Adjust gain so crossover remains near desired speed band.

This is the standard practical lead-design loop in early courses.

## Detailed Review

Confirm you can explain:

1. Why lead improves damping tendency.
2. Why lag/PI improves low-frequency accuracy.
3. Why controller design must re-check both margins and noise amplification.

## Assignments

Skills tested: `derivation`, `interpretation`, `stability test`, `design choice`.

Take a plant with low PM and design a lead compensator that adds about 30 deg phase near crossover.
Then verify margin changes.

## Citations

- [R1](/syllabus/references#r1)
- [R2](/syllabus/references#r2)
- [R4](/syllabus/references#r4)
